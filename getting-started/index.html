
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://hyosubkim.github.io/bayes-toolbox/getting-started/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../reference/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Getting Started - bayes-toolbox</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35e1ed30.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-do-i-get-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="bayes-toolbox" class="md-header__button md-logo" aria-label="bayes-toolbox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bayes-toolbox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/hyosubkim/bayes-toolbox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="bayes-toolbox" class="md-nav__button md-logo" aria-label="bayes-toolbox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    bayes-toolbox
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hyosubkim/bayes-toolbox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended-pip" class="md-nav__link">
    Recommended (pip)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-source-cloning-and-building" class="md-nav__link">
    From source: Cloning and building
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-environment" class="md-nav__link">
    Virtual environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-correct-kernel-from-jupyterlab" class="md-nav__link">
    Accessing the correct kernel from JupyterLab
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-learn-to-use-bayes-toolbox" class="md-nav__link">
    How do I learn to use bayes-toolbox?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-syntax" class="md-nav__link">
    Example syntax
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../future-plans/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future Plans
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Contribute
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended-pip" class="md-nav__link">
    Recommended (pip)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-source-cloning-and-building" class="md-nav__link">
    From source: Cloning and building
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-environment" class="md-nav__link">
    Virtual environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-correct-kernel-from-jupyterlab" class="md-nav__link">
    Accessing the correct kernel from JupyterLab
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-learn-to-use-bayes-toolbox" class="md-nav__link">
    How do I learn to use bayes-toolbox?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-syntax" class="md-nav__link">
    Example syntax
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="how-do-i-get-started">How do I get started?</h1>
<h2 id="installation">Installation</h2>
<h3 id="recommended-pip">Recommended (pip)</h3>
<p>We recommend installing the latest stable version of <code>bayes_toolbox</code> with pip (from the Terminal):</p>
<pre><code>pip install bayes_toolbox
</code></pre>
<h3 id="from-source-cloning-and-building">From source: Cloning and building</h3>
<p>The latest development version of <code>bayes-toolbox</code> can be cloned from GitHub using <code>git</code>:</p>
<pre><code>git clone https://github.com/hyosubkim/bayes-toolbox.git
</code></pre>
<p>To build and install the project (from the root directory, i.e., inside the cloned <code>bayes-toolbox</code> directory):</p>
<pre><code>python3 -m pip install -e .
</code></pre>
<h2 id="dependencies">Dependencies</h2>
<p><code>bayes_toolbox</code> has the following dependencies (all of which should be automatically imported with a pip installation):<br />
- aesara<br />
- arviz<br />
- numpy<br />
- pandas<br />
- pymc  </p>
<h2 id="virtual-environment">Virtual environment</h2>
<p>You can create a virtual environment with all of the necessary dependencies. If you've cloned the <code>bayes-toolbox</code> repository, make sure you're in the root directory of the cloned repository (i.e., <code>bayes-toolbox</code>) and type the following conda command in the Terminal (<a href="https://www.anaconda.com/">Anaconda</a> is strongly recommended for installing Python and the conda utility on your computer):</p>
<pre><code>conda env create --name bayes_toolbox --file environment.yml
</code></pre>
<p>Instead of <code>bayes_toolbox</code>, you may wish to give your environment a different name. </p>
<p>If you're not using MacOSX and want to replicate this environment, read the "Export your environment" section of this <a href="https://goodresearch.dev/setup.html">page</a>. </p>
<p>After cloning and installing <code>bayes-toolbox</code> locally, you can access it from any directory. </p>
<h2 id="accessing-the-correct-kernel-from-jupyterlab">Accessing the correct kernel from JupyterLab</h2>
<p>If you've created the <code>bayes_toolbox</code> virtual environment and want to access the correct kernel from a Jupyter notebook, you must manually add the kernel for your new virtual environment "bayes_toolbox" (or whatever you named it). To do so, you first need to install <a href="https://github.com/ipython/ipykernel">ipykernel</a>:</p>
<pre><code>pip install --user ipykernel
</code></pre>
<p>Next, add your virtual environment to Jupyter:</p>
<pre><code>python -m ipykernel install --user --name=MYENV
</code></pre>
<p>Use whatever you named your virtual environment in place of <code>MYENV</code>. That should be all that's necessary in order to choose your new virtual environment as a kernel from your Jupyter notebook. For more details, read this <a href="https://janakiev.com/blog/jupyter-virtual-envs/">page</a>. </p>
<h2 id="how-do-i-learn-to-use-bayes-toolbox">How do I learn to use bayes-toolbox?</h2>
<p>The <code>BEST</code>  notebook (short for "Bayesian Estimation Supersedes the t-Test", a famous 2013 <a href="https://jkkweb.sitehost.iu.edu/articles/Kruschke2013JEPG.pdf">article</a> by John Kruschke) in the <code>examples</code> <a href="https://github.com/hyosubkim/bayesian-statistics-toolbox/tree/main/examples">directory</a> is a good place to see how <code>bayes-toolbox</code> can be used to make implementing Bayesian analyses easy. I've adapted the <a href="https://www.pymc.io/projects/examples/en/latest/case_studies/BEST.html">notebook</a> of the same name from the PyMC developers to show how the model building and MCMC sampling are all embedded in a single function now. You can see similar workflows for other model types in all of the other example notebooks, which track several of the chapters from "Doing Bayesian Data Analysis" and is modeled off of Jordi Warmenhoven's <a href="https://github.com/JWarmenhoven/DBDA-python">repo</a>.</p>
<h2 id="example-syntax">Example syntax</h2>
<p>Following imports of the most common Python packages for data analysis and Bayesian statistics, import <code>bayes_toolbox</code>. </p>
<pre><code class="language-python"># Usual imports 
import arviz as az
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import pymc as pm
import seaborn as sns
import xarray as xr

# Import the bayes-toolbox package 
import bayes_toolbox.glm as bg
</code></pre>
<p>Import the data you want to model (the following example can be found in the <code>examples</code> subdirectory). So far, these are all standard steps and not specific to <code>bayes-toolbox</code>. </p>
<pre><code class="language-python"># Import data (from 'examples' subdirectory) into pandas data frame 
df = pd.read_csv(&quot;data/HierLinRegressData.csv&quot;)
df.Subj = df_HRegr.Subj.astype(&quot;category&quot;)
df.Subj = df_HRegr.Subj.cat.as_ordered()
</code></pre>
<p><strong>Now, with <code>bayes-toolbox</code>, if you want to run a fairly sophisticated multi-level (hierarchical) linear regression model in which you are modeling individual as well as group-level slope and intercept parameters, simply call the appropriate function:</strong></p>
<pre><code class="language-python"># Call your bayes-toolbox function and return the PyMC model and InferenceData objects
model, idata = bg.hierarchical_regression(
df[&quot;X&quot;], df[&quot;Y&quot;], df[&quot;Subj&quot;], acceptance_rate=0.95
)
</code></pre>
<p>Before, this exact same analysis would have taken <em>many</em> more lines of code:</p>
<pre><code class="language-python"># Standardize variables
zx, mu_x, sigma_x = standardize(df[&quot;X&quot;])
zy, mu_y, sigma_y = standardize(df[&quot;Y&quot;)

# Convert subject variable to categorical dtype if it is not already
subj_idx, subj_levels, n_subj = parse_categorical(df[&quot;Subj&quot;])

# Define your statistical model
with pm.Model(coords={&quot;subj&quot;: subj_levels}) as model:
    # Hyperpriors
    zbeta0 = pm.Normal(&quot;zbeta0&quot;, mu=0, tau=1 / 10**2)
    zbeta1 = pm.Normal(&quot;zbeta1&quot;, mu=0, tau=1 / 10**2)
    zsigma0 = pm.Uniform(&quot;zsigma0&quot;, 10**-3, 10**3)
    zsigma1 = pm.Uniform(&quot;zsigma1&quot;, 10**-3, 10**3)

    # Priors for individual subject parameters
    zbeta0_s_offset = pm.Normal(&quot;zbeta0_s_offset&quot;, mu=0, sigma=1, dims=&quot;subj&quot;)
    zbeta0_s = pm.Deterministic(
        &quot;zbeta0_s&quot;, zbeta0 + zbeta0_s_offset * zsigma0, dims=&quot;subj&quot;
    )

    zbeta1_s_offset = pm.Normal(&quot;zbeta1_s_offset&quot;, mu=0, sigma=1, dims=&quot;subj&quot;)
    zbeta1_s = pm.Deterministic(
        &quot;zbeta1_s&quot;, zbeta1 + zbeta1_s_offset * zsigma1, dims=&quot;subj&quot;
    )

    mu = zbeta0_s[subj_idx] + zbeta1_s[subj_idx] * zx

    zsigma = pm.Uniform(&quot;zsigma&quot;, 10**-3, 10**3)
    nu_minus_one = pm.Exponential(&quot;nu_minus_one&quot;, 1 / 29)
    nu = pm.Deterministic(&quot;nu&quot;, nu_minus_one + 1)

    # Define likelihood function
    likelihood = pm.StudentT(&quot;likelihood&quot;, nu, mu=mu, sigma=zsigma, observed=zy)

    # Sample from posterior
    idata = pm.sample(draws=n_draws, target_accept=acceptance_rate)
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>